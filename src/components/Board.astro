---
import { GET } from '../pages/api/content.json'

const response = await GET(Astro);
const data = await response.json();

import type { content } from "../pages/api/content.json";
import WorkCard from "./WorkCard.astro";
---

<div class="board">
    <div class="board-bar">
        <h3>My Work</h3>
        <!-- <div class="board-filter">
            <a><h3>All</h3></a>
            <a><h3>Projects</h3></a>
            <a><h3>Blog</h3></a>
            <a><h3>Videos</h3></a>
        </div> -->
    </div>
    <div class="board-feed">
        {
            data.map(( item: content ) => (
                <WorkCard 
                    title={ item.title }
                    type={ item.type }
                    headline={ item.headline }
                    url={ item.url }
                    thumbnail={ item.thumbnail }
                    date={ item.date }
                    priority={ item.priority }
                />
            ))
        }
    </div>
</div>

<style lang="scss">
    @use './global.scss';

    .board {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        padding: 0 25px 25px;

        @media (min-width: 600px) {
            padding: 0 45px 45px;
        }

        &-bar {
            display: flex;
            justify-content: space-between;
            padding: 0 0 25px;

            h3 {
                color: var(--white);
                font-size: 1.5rem;
                margin: 0;
            }
        }
        
        &-filter {
            display: flex;
            gap: 1rem;

            a {
                text-decoration: underline;
                color: var(--white);
            }
        }

        &-feed {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-auto-rows: 20px;
            gap: 12px;

            @media (min-width: 850px) {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    }
</style>