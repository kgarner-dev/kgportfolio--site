---
import Masthead from '../../components/Masthead.astro';
import Layout from '../../layouts/Layout.astro';
import { GET } from '../api/content.json'

const response = await GET(Astro);
const data = await response.json();

const { project } = Astro.params;

const matchingProject = data.find((item: { url: string | undefined; }) => item.url === project);
---

<Layout 
	title=`Kaleb Garner - ${ matchingProject.title }`
	description=`${ matchingProject.tldr }`
>
    <Masthead 
        title={ matchingProject.title }
        headline={ matchingProject.headline }
        date={ matchingProject.date }
        tldr={ matchingProject.tldr }
        thumbnail={ matchingProject.thumbnail }
    />
</Layout>
